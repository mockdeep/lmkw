%h1 My Account

= form_with(model: user, url: account_path) do |form|
  - if user.errors.any?
    .error-explanation
      %h2 #{pluralize(user.errors.count, "error")} problems with your signup:
      %ul
        - user.errors.full_messages.each do |message|
          %li= message
  .field
    = form.label(:email)
    = form.email_field(:email, required: true)
  .actions
    = form.submit("Update Account")

- confirm = "Are you sure? This cannot be undone."
- form_data = { data: { turbo: true, turbo_confirm: confirm } }
= button_to("Delete Account",
            account_path,
            method: :delete,
            form: form_data)
